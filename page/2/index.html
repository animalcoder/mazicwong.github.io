<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>mazicwong</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="blog">
<meta property="og:type" content="website">
<meta property="og:title" content="mazicwong">
<meta property="og:url" content="mazicwong.github.io/page/2/index.html">
<meta property="og:site_name" content="mazicwong">
<meta property="og:description" content="blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="mazicwong">
<meta name="twitter:description" content="blog">
  
    <link rel="alternate" href="/atom.xml" title="mazicwong" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
  

</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">mazicwong</a>
      </h1>
      
        <h2 id="subtitle-wrap">
          <a href="/" id="subtitle">记录日常</a>
        </h2>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="Flux RSS"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Rechercher"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="mazicwong.github.io"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-输入挂" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/11/输入挂/" class="article-date">
  <time datetime="2017-09-10T16:21:41.000Z" itemprop="datePublished">2017-09-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/11/输入挂/">输入挂</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>测试: hdu6208 青岛网络赛第三题的AC自动机,3000ms</p>
<ul>
<li>AC自动机:</li>
<li>1.用<code>string+sync</code>            各种TLE</li>
<li>2.改用<code>char ss[]</code>            刚好卡过去..2800ms</li>
<li>3.加了个<code>fastIO</code>输入挂…    2400ms就过了</li>
</ul>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">namespace</span> fastIO  </div><div class="line">&#123;</div><div class="line">    <span class="meta">#<span class="meta-keyword">define</span> BUF_SIZE 100000  </span></div><div class="line">    <span class="comment">//fread -&gt; read</span></div><div class="line">    <span class="keyword">bool</span> IOerror = <span class="number">0</span>;  </div><div class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">char</span> <span class="title">nc</span><span class="params">()</span> </span>&#123;  </div><div class="line">        <span class="keyword">static</span> <span class="keyword">char</span> buf[BUF_SIZE], *p1 = buf + BUF_SIZE, *pend = buf + BUF_SIZE;  </div><div class="line">        <span class="keyword">if</span>(p1 == pend) &#123;  </div><div class="line">            p1 = buf;  </div><div class="line">            pend = buf + fread(buf, <span class="number">1</span>, BUF_SIZE, <span class="built_in">stdin</span>);  </div><div class="line">            <span class="keyword">if</span>(pend == p1) &#123;  </div><div class="line">                IOerror = <span class="number">1</span>;<span class="keyword">return</span> <span class="number">-1</span>;  </div><div class="line">            &#125;  </div><div class="line">        &#125;  </div><div class="line">        <span class="keyword">return</span> *p1++;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">bool</span> <span class="title">blank</span><span class="params">(<span class="keyword">char</span> ch)</span> </span>&#123;  </div><div class="line">        <span class="keyword">return</span> ch == <span class="string">' '</span> || ch == <span class="string">'\n'</span> || ch == <span class="string">'\r'</span> || ch == <span class="string">'\t'</span>;  </div><div class="line">    &#125;  </div><div class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span> x[])</span> </span>&#123;  </div><div class="line">        <span class="keyword">char</span> ch;  </div><div class="line">        <span class="keyword">while</span>(blank(ch = nc()));  </div><div class="line">        <span class="keyword">if</span>(IOerror)  </div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;  </div><div class="line">        <span class="keyword">int</span> k = <span class="number">0</span>;  </div><div class="line">        <span class="keyword">for</span>(x[k++] = ch; (ch = nc())&amp;&amp;(!blank(ch))&amp;&amp;(ch != EOF); x[k++] = ch);  </div><div class="line">        x[k]=<span class="string">'\0'</span>;  </div><div class="line">        <span class="keyword">return</span> k;  </div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">readint</span><span class="params">(<span class="keyword">int</span> &amp;x)</span> </span>&#123;  </div><div class="line">        <span class="keyword">char</span> ch;  </div><div class="line">        <span class="keyword">while</span>(blank(ch = nc()));  </div><div class="line">        <span class="keyword">if</span>(IOerror)<span class="keyword">return</span>;  </div><div class="line">        <span class="keyword">for</span>(x = ch - <span class="string">'0'</span>; (ch = nc()) &gt;= <span class="string">'0'</span> &amp;&amp; ch &lt;= <span class="string">'9'</span>; x = x * <span class="number">10</span> + ch - <span class="string">'0'</span>);  </div><div class="line">    &#125;  </div><div class="line"><span class="meta">#<span class="meta-keyword">undef</span> BUF_SIZE  </span></div><div class="line">&#125;;  </div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> fastIO;  </div><div class="line"></div><div class="line"></div><div class="line"><span class="comment">//how to use</span></div><div class="line"><span class="keyword">while</span>(read(n),!fastIO::IOerror)</div><div class="line">&#123;</div><div class="line">    readint(T);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)</div><div class="line">        readint(a[i]);</div><div class="line">    <span class="keyword">char</span> str[maxn];</div><div class="line">    read(str);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>/<strong><strong>**</strong></strong>another<strong><strong><em>*</em></strong></strong>/</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//适用于正负整数</span></div><div class="line"><span class="keyword">template</span> &lt;<span class="class"><span class="keyword">class</span> <span class="title">T</span>&gt;</span></div><div class="line"><span class="title">inline</span> <span class="title">bool</span> <span class="title">scan_d</span>(<span class="title">T</span> &amp;<span class="title">ret</span>) &#123;</div><div class="line">    <span class="keyword">char</span> c; <span class="keyword">int</span> sgn;</div><div class="line">    <span class="keyword">if</span>(c=getchar(),c==EOF) <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">//EOF</span></div><div class="line">    <span class="keyword">while</span>(c!=<span class="string">'-'</span>&amp;&amp;(c&lt;<span class="string">'0'</span>||c&gt;<span class="string">'9'</span>)) c=getchar();</div><div class="line">    sgn=(c==<span class="string">'-'</span>)?<span class="number">-1</span>:<span class="number">1</span>;</div><div class="line">    ret=(c==<span class="string">'-'</span>)?<span class="number">0</span>:(c-<span class="string">'0'</span>);</div><div class="line">    <span class="keyword">while</span>(c=getchar(),c&gt;=<span class="string">'0'</span>&amp;&amp;c&lt;=<span class="string">'9'</span>) ret=ret*<span class="number">10</span>+(c-<span class="string">'0'</span>);</div><div class="line">    ret*=sgn;</div><div class="line">    <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">inline</span> <span class="keyword">void</span> <span class="title">out</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(x&gt;<span class="number">9</span>) out(x/<span class="number">10</span>);</div><div class="line">    <span class="built_in">putchar</span>(x%<span class="number">10</span>+<span class="string">'0'</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>/<strong><strong>**</strong></strong>another<strong><strong><em>*</em></strong></strong>/<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">std</span>::ios::sync_with_stdio(<span class="literal">false</span>);</div><div class="line"><span class="built_in">cin</span>.tie(<span class="number">0</span>);</div></pre></td></tr></table></figure></p>
<p>/<strong><strong>**</strong></strong>test<strong><strong><em>*</em></strong></strong>/<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;ctime&gt;</span></span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">double</span> start = clock();</div><div class="line">    <span class="comment">// do sth;</span></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%.3lf\n"</span>,<span class="keyword">double</span>(clock()-start)/CLOCKS_PRE_SEC);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>//一开始测用  <code>for (int i=0;i&lt;maxn;i++) cin&gt;&gt;i;</code> 然后输入挂一直用不了…<br>int maxn = 1e7+5;</p>
<p>//1.406s<br>while(maxn–) cin&gt;&gt;i;</p>
<p>//0.552<br>while(maxn–) scanf(“%d”,&amp;i);</p>
<p>//0.521<br>std::ios::sync_with_stdio(false);<br>while(maxn–) cin&gt;&gt;i;</p>
<p>//0.427<br>std::ios::sync_with_stdio(false); cin.tie(0);<br>while(maxn–) cin&gt;&gt;i;</p>
<p>//0.229 (kuangbin)<br>while(maxn–) scan_d()i;</p>
<p>//0.165 (神奇FastIO挂)<br>while(maxn–) readint(i)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/09/11/输入挂/" data-id="cjcn4yz9j003mouscj710ku6o" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-最小生成树" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/09/最小生成树/" class="article-date">
  <time datetime="2017-09-09T02:53:08.000Z" itemprop="datePublished">2017-09-09</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/09/最小生成树/">最小生成树</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最小生成树:kruskal or Prim</p>
<p>算法:<br>kruskal中,建图一般存边,然后可以sort所有边权,依次取入<code>n-1</code>条边,过程中用并查集判定不会构成回路</p>
<hr>
<p>kruskal模板:poj1287<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">50</span>+<span class="number">5</span>;<span class="comment">//point</span></div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxm = <span class="number">1500</span>+<span class="number">5</span>;<span class="comment">//edge</span></div><div class="line"><span class="comment">/*</span></div><div class="line"> * poj1287: 传入点,边,求最小生成树边权和</div><div class="line"> * 复杂度: E*logV</div><div class="line"> * point: [1..n]</div><div class="line"> * edge: [0..m-1]</div><div class="line"> */</div><div class="line"><span class="keyword">int</span> n,m;<span class="comment">//点,边</span></div><div class="line"></div><div class="line"><span class="comment">//建图(存边)</span></div><div class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></div><div class="line">    <span class="keyword">int</span> x,y;</div><div class="line">    <span class="keyword">int</span> d;</div><div class="line">&#125;E[maxm];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">cmp</span><span class="params">(edge a1,edge a2)</span></span>&#123;<span class="keyword">return</span> a1.d&lt;a2.d;&#125;</div><div class="line"></div><div class="line"><span class="comment">//并查集(判连通块)</span></div><div class="line"><span class="keyword">int</span> fa[maxn];</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;<span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) fa[i]=i;&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">find</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;<span class="keyword">return</span> x==fa[x]?x:fa[x]=find(fa[x]);&#125;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">unite</span><span class="params">(<span class="keyword">int</span> x,<span class="keyword">int</span> y)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> nx=find(x),ny=find(y);</div><div class="line">    <span class="keyword">if</span> (nx!=ny) fa[nx]=ny;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//kruskal(传入边数)</span></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">kruskal</span><span class="params">(<span class="keyword">int</span> num)</span></span></div><div class="line">&#123;</div><div class="line">    init();</div><div class="line">    sort(E,E+num,cmp);</div><div class="line">    <span class="keyword">int</span> ans=<span class="number">0</span>,cnt=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (find(E[i].x)!=find(E[i].y))</div><div class="line">        &#123;</div><div class="line">            ans += E[i].d;</div><div class="line">            unite(E[i].x,E[i].y);</div><div class="line">            cnt++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (n<span class="number">-1</span>==cnt)</div><div class="line">            <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//freopen("in","r",stdin);</span></div><div class="line">    <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;n) &amp;&amp; n)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;m);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d%d"</span>,&amp;E[i].x,&amp;E[i].y,&amp;E[i].d);</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,kruskal(m));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<p>poj 1287 裸最小生成树</p>
<p>题意:<br>给n点,m边,求最小生成树边权和</p>
<hr>
<p>hdu 1233 最小生成树边权和</p>
<p>题意:<br><code>n</code>村庄,<code>n*(n-1)/2</code>路,输出最小公路总长度</p>
<p>思路:<br>裸题</p>
<hr>
<p>hdu1301 &amp; poj1251</p>
<p>题意:<br>n点,然后给边,按邻接表方式给,求最小生成树边权和</p>
<hr>
<p>hdu 1875</p>
<p>题意:<br>给出所有点坐标,任意两点建路,要求距离在10到1000之间,目的是使n个点连通,问最少需要建多少</p>
<p>思路:<br>求出所有边距离,判断是否符合,然后套一个kruskal</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/09/09/最小生成树/" data-id="cjcn4yz920021ousc4e13otk6" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/kruskal/">kruskal</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-ruby-first" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/09/01/ruby-first/" class="article-date">
  <time datetime="2017-09-01T03:17:03.000Z" itemprop="datePublished">2017-09-01</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/09/01/ruby-first/">ruby(first)</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://www.ruby-lang.org/en/downloads/" target="_blank" rel="external">ruby 2.4.1</a> in Linux: </p>
<p>安装完ruby的源码包,里面已经有了一个iRb shell,ruby的交互式shell</p>
<p>用<code>$ irb</code>可以运行,</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/09/01/ruby-first/" data-id="cjcn4yz800010ouscf7zdpd3f" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ruby/">ruby</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-cf382" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/28/cf382/" class="article-date">
  <time datetime="2017-08-28T14:38:27.000Z" itemprop="datePublished">2017-08-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/28/cf382/">cf382</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <hr>
<p>1.直接模拟</p>
<hr>
<p>2.贪心<br>题意:<br>给n个数,和n1,n2,要令你找n1个数和n2个数,使得这n1个数的和除以n1,加上n2个数的和除以n2,值最大</p>
<p>扩展:<br>给n个数,让取出一个集合的数,使得这个集合里的m个数相加除以m最大,其实就是只去最大那个数就好了,再取其他的数都会使最优值变小</p>
<hr>
<p>3.<br>打表,dp,找递推<br>题意:<br>n个人打比赛,每次两个人对打,输的淘汰<br>两个人进行比赛的条件:他们已经打过的次数相差小于等于1<br>问最终剩下的那个人,最多是打几场</p>
<p>思路:<br>猜了个递推公式,<code>f[n]=f[n-1]+f[n-1]</code><br><code>f[1]=2,f[2]=3,f[3]=5</code><br>然后打表完扔数组里加个<code>upper_bound</code>交了</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">	&gt; File Name: 2.cpp</div><div class="line">	&gt; Author: mazicwong</div><div class="line">	&gt; Mail: mazicwong@gmail.com</div><div class="line">	&gt; Created Time: 2017年08月28日 星期一 18时54分07秒</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line">ll n;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * 2  1</div><div class="line"> *</div><div class="line"> * 3  2</div><div class="line"> * 4  2</div><div class="line"> *</div><div class="line"> * 5  3</div><div class="line"> * 6  3</div><div class="line"> * 7  3</div><div class="line"> *</div><div class="line"> * 8  4</div><div class="line"> * 9  4</div><div class="line"> *</div><div class="line"> */</div><div class="line"><span class="comment">//ll a[200];</span></div><div class="line"></div><div class="line">ll ans[<span class="number">100</span>]=&#123;</div><div class="line"><span class="number">0</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">8</span>,<span class="number">13</span>,<span class="number">21</span>,<span class="number">34</span>,<span class="number">55</span>,<span class="number">89</span>,<span class="number">144</span>,<span class="number">233</span>,<span class="number">377</span>,<span class="number">610</span>,<span class="number">987</span>,<span class="number">1597</span>,<span class="number">2584</span>,<span class="number">4181</span>,<span class="number">6765</span>,<span class="number">10946</span>,<span class="number">17711</span>,<span class="number">28657</span>,<span class="number">46368</span>,<span class="number">75025</span>,<span class="number">121393</span>,<span class="number">196418</span>,<span class="number">317811</span>,<span class="number">514229</span>,<span class="number">832040</span>,<span class="number">1346269</span>,<span class="number">2178309</span>,<span class="number">3524578</span>,<span class="number">5702887</span>,<span class="number">9227465</span>,<span class="number">14930352</span>,<span class="number">24157817</span>,<span class="number">39088169</span>,<span class="number">63245986</span>,<span class="number">102334155</span>,<span class="number">165580141</span>,<span class="number">267914296</span>,<span class="number">433494437</span>,<span class="number">701408733</span>,<span class="number">1134903170</span>,<span class="number">1836311903</span>,<span class="number">2971215073</span>,<span class="number">4807526976</span>,<span class="number">7778742049</span>,<span class="number">12586269025</span>,<span class="number">20365011074</span>,<span class="number">32951280099</span>,<span class="number">53316291173</span>,<span class="number">86267571272</span>,<span class="number">139583862445</span>,<span class="number">225851433717</span>,<span class="number">365435296162</span>,<span class="number">591286729879</span>,<span class="number">956722026041</span>,<span class="number">1548008755920</span>,<span class="number">2504730781961</span>,<span class="number">4052739537881</span>,<span class="number">6557470319842</span>,<span class="number">10610209857723</span>,<span class="number">17167680177565</span>,<span class="number">27777890035288</span>,<span class="number">44945570212853</span>,<span class="number">72723460248141</span>,<span class="number">117669030460994</span>,<span class="number">190392490709135</span>,<span class="number">308061521170129</span>,<span class="number">498454011879264</span>,<span class="number">806515533049393</span>,<span class="number">1304969544928657</span>,<span class="number">2111485077978050</span>,<span class="number">3416454622906707</span>,<span class="number">5527939700884757</span>,<span class="number">8944394323791464</span>,<span class="number">14472334024676221</span>,<span class="number">23416728348467685</span>,<span class="number">37889062373143906</span>,<span class="number">61305790721611591</span>,<span class="number">99194853094755497</span>,<span class="number">160500643816367088</span>,<span class="number">259695496911122585</span>,<span class="number">420196140727489673</span>,<span class="number">679891637638612258</span>,<span class="number">1100087778366101931</span></div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">memset</span>(a,<span class="number">0</span>,<span class="keyword">sizeof</span>(a));</div><div class="line">    a[<span class="number">1</span>]=<span class="number">2</span>; a[<span class="number">2</span>]=<span class="number">3</span>;a[<span class="number">3</span>]=<span class="number">5</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">4</span>;i&lt;=<span class="number">86</span>;i++)</div><div class="line">    &#123;</div><div class="line">        a[i] = a[i<span class="number">-1</span>]+a[i<span class="number">-2</span>];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">86</span>;i++)</div><div class="line">        <span class="built_in">cout</span> &lt;&lt; a[i] &lt;&lt; <span class="string">','</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//freopen("in","r",stdin);</span></div><div class="line">    <span class="built_in">cin</span> &gt;&gt; n;</div><div class="line">    <span class="keyword">int</span> aa = upper_bound(ans,ans+<span class="number">87</span>,n)-ans;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,aa<span class="number">-1</span>);</div><div class="line">    </div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p>4.<br>题意:<br>给n元,要交的税是n的最大因子(eg:n=25,交5),现在将n分成若干份,问交的税最小是多少</p>
<p>思路:<br>只有3种情况,</p>
<ul>
<li>如果是质数,不分,直接交1元;</li>
<li>如果是合数的话,当他为偶数,直接表示为2个质数之和,结果为2,,</li>
<li>当他为奇数,这时候有可能是2跟3,他先减掉一个偶数2,如果是质数,就直接表示为2,否则表示为3(可以理解为,减掉3然后变成一个偶数)</li>
</ul>
<p>最后再套一个大数素数测试的模板,或者手写一个<code>O(sqrt(n))</code>的素数测试</p>
<p>扩展:<br>哥德巴赫猜想:一个偶数可以表示为2个质数的和.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">    &gt; File Name: 4.cpp</div><div class="line">    &gt; Author: mazicwong</div><div class="line">    &gt; Mail: mazicwong@gmail.com</div><div class="line">    &gt; Created Time: 2017年08月28日 星期一 19时47分50秒</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;time.h&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</div><div class="line"><span class="keyword">int</span> S=<span class="number">5</span>;<span class="comment">//测试次数，越大精度越高</span></div><div class="line"><span class="function">ll <span class="title">mod_mul</span><span class="params">(ll a, ll b, ll n)</span>  <span class="comment">//快速乘</span></span></div><div class="line">&#123;</div><div class="line">    ll res = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span>(b)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)    res = (res + a) % n;</div><div class="line">        a = (a + a) % n;</div><div class="line">        b &gt;&gt;= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"><span class="function">ll <span class="title">mod_exp</span><span class="params">(ll a, ll b, ll n)</span>  <span class="comment">//快速幂</span></span></div><div class="line">&#123;</div><div class="line">    ll res = <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span>(b)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(b&amp;<span class="number">1</span>)    res = mod_mul(res, a, n);</div><div class="line">        a = mod_mul(a, a, n);</div><div class="line">        b &gt;&gt;= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">miller_rabin</span><span class="params">(ll n)</span>  <span class="comment">//复杂度很小</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span>(n == <span class="number">2</span> || n == <span class="number">3</span> || n == <span class="number">5</span> || n == <span class="number">7</span> || n == <span class="number">11</span>)    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">    <span class="keyword">if</span>(n == <span class="number">1</span> || !(n%<span class="number">2</span>) || !(n%<span class="number">3</span>) || !(n%<span class="number">5</span>) || !(n%<span class="number">7</span>) || !(n%<span class="number">11</span>))    <span class="keyword">return</span> <span class="literal">false</span>;</div><div class="line"></div><div class="line">    ll x, pre, u;</div><div class="line">    <span class="keyword">int</span> i, j, k = <span class="number">0</span>;</div><div class="line">    u = n - <span class="number">1</span>;    <span class="comment">//要求x^u % n</span></div><div class="line"></div><div class="line">    <span class="keyword">while</span>(!(u&amp;<span class="number">1</span>))      <span class="comment">//如果u为偶数则u右移，用k记录移位数</span></div><div class="line">    &#123;</div><div class="line">        k++;</div><div class="line">        u &gt;&gt;= <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    srand((ll)time(<span class="number">0</span>));</div><div class="line">    <span class="keyword">for</span>(i = <span class="number">0</span>; i &lt; S; ++i)      <span class="comment">//进行S次测试</span></div><div class="line">    &#123;</div><div class="line">        x = rand()%(n<span class="number">-2</span>) + <span class="number">2</span>;    <span class="comment">//在[2, n)中取随机数</span></div><div class="line">        <span class="keyword">if</span>((x%n) == <span class="number">0</span>)    <span class="keyword">continue</span>;</div><div class="line"></div><div class="line">        x = mod_exp(x, u, n);    <span class="comment">//先计算(x^u) % n，</span></div><div class="line">        pre = x;</div><div class="line">        <span class="keyword">for</span>(j = <span class="number">0</span>; j &lt; k; ++j)      <span class="comment">//把移位减掉的量补上，并在这地方加上二次探测</span></div><div class="line">        &#123;</div><div class="line">            x = mod_mul(x, x, n);</div><div class="line">            <span class="keyword">if</span>(x == <span class="number">1</span> &amp;&amp; pre != <span class="number">1</span> &amp;&amp; pre != n<span class="number">-1</span>)    <span class="keyword">return</span> <span class="literal">false</span>;    <span class="comment">//二次探测定理，这里如果x = 1则pre 必须等于 1，或则 n-1否则可以判断不是素数</span></div><div class="line">            pre = x;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(x != <span class="number">1</span>)    <span class="keyword">return</span> <span class="literal">false</span>;    <span class="comment">//费马小定理</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//freopen("in","r",stdin);</span></div><div class="line">    <span class="comment">//*/test miller_rabin</span></div><div class="line">    <span class="keyword">int</span> n;</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;n;</div><div class="line"></div><div class="line">    <span class="keyword">if</span>(miller_rabin(n))</div><div class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"1"</span>;</div><div class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(miller_rabin(n<span class="number">-2</span>))</div><div class="line">        <span class="built_in">cout</span> &lt;&lt; <span class="string">"2"</span>;</div><div class="line">    <span class="keyword">else</span></div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span>(n%<span class="number">2</span>==<span class="number">0</span>)</div><div class="line">            <span class="built_in">printf</span>(<span class="string">"2\n"</span>);</div><div class="line">        <span class="keyword">else</span></div><div class="line">            <span class="built_in">printf</span>(<span class="string">"3\n"</span>);</div><div class="line"></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/08/28/cf382/" data-id="cjcn4yz7h000aouscnkq5foqz" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/codeforces/">codeforces</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-G-C" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/28/G-C/" class="article-date">
  <time datetime="2017-08-28T08:10:43.000Z" itemprop="datePublished">2017-08-28</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/28/G-C/">G++&amp;C++</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近写了几道字典树,发现Trie用动态内存分配实现的话,交到OJ上用G++会MLE,用C++不会,<br>原因: 群里大佬说G++指针的size是C++的两倍多,会MLE,然后不断的new出来的内存也是不连续的,跑起来会变慢,测了一下时间大概变慢了一半</p>
<p>顺便整理下这几个的注意点吧</p>
<h2 id="手动扩大栈内存"><a href="#手动扩大栈内存" class="headerlink" title="手动扩大栈内存"></a>手动扩大栈内存</h2><p>一般,用g++提交时间慢,用C++提交会栈溢出</p>
<p>g++: 用读入挂防止TLE<br>c++: #pragma comment(linker, “/STACK:102400000,102400000”)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/08/28/G-C/" data-id="cjcn4yz750003ouscw85g76b6" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/C/">C++</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/G/">G++</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-线段树" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/27/线段树/" class="article-date">
  <time datetime="2017-08-26T18:36:27.000Z" itemprop="datePublished">2017-08-27</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/27/线段树/">线段树</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="线段树-高效解决连续区间的动态查询问题"><a href="#线段树-高效解决连续区间的动态查询问题" class="headerlink" title="线段树: 高效解决连续区间的动态查询问题"></a>线段树: 高效解决连续区间的动态查询问题</h2><p>总结:<br>区间查询最值和区间求和两种问题,其实就是改一下跟<code>tree[i].value</code>相关的操作,<code>buld()</code>中改叶子节点赋值那里,<code>update()</code>改查找到叶子节点和每次在中间节点的过度,<code>query()</code>改查询过程的要求</p>
<p>思考:<br>出了真的没什么逻辑错误的bug,就重新写一遍程序!!!!!<br>poj3264 的右子树写成左子树,然后debug了5个小时!!!一晚上没了!!!<br>不过对完全二叉树的认识又深刻了很多,  </p>
<p>样例<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">a[<span class="number">1.</span>.n]=&#123;<span class="number">1</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>&#125;          <span class="comment">//数据</span></div><div class="line"></div><div class="line">tree[<span class="number">7</span>].left=tree[<span class="number">7</span>].right=<span class="number">6</span>:  <span class="comment">//对应[1..n]的叶子区间</span></div><div class="line">L(<span class="number">7</span>)=<span class="number">14</span>,R(<span class="number">7</span>)=<span class="number">15</span>:               <span class="comment">//对应子节点</span></div></pre></td></tr></table></figure></p>
<p>树状数组: 动态维护数组前缀和(单点更新，查询数组的前缀和)<br>hdu 1166<br>poj 3468  <a href="http://kenby.iteye.com/blog/962159" target="_blank" rel="external">http://kenby.iteye.com/blog/962159</a></p>
<p>rmq:<br>poj 3264</p>
<hr>
<p>hdu 1754 线段树模板题<br>单点更新(替换),区间查询(最大值)</p>
<p>题意:<br>给200000个点,两种操作</p>
<ul>
<li>更新: 某个点变成另一个值</li>
<li>查询: 找一个区间内的最大值</li>
</ul>
<p>思路:<br>显然数据量很大,2e5个点,枚举不可能,所以用线段树  </p>
<p>注意:<br>这题的2e5个点是连续的,如果不是连续的,则需要进行离散化</p>
<hr>
<p>hdu 1166<br>单点更新(加减),区间查询(求和)</p>
<p>思路:<br>直接线段树模板题,改下<code>tree[i].value</code>那里的更新值就可以过了</p>
<hr>
<p>poj 3468(模板)<br>区间更新(加),区间查询(和)</p>
<hr>
<p>hdu 1698<br>区间更新(替换),区间查询(和)</p>
<p>思路:<br>在poj3468的模板上,把跟value和lazy相关的值改一下就好了,<br>PushDown()更新的<code>+=</code>全都改成<code>=</code><br>update()中更新<code>+=</code>也改成<code>=</code><br>然后就过了= =</p>
<hr>
<p>poj 2528 染色问题(用了另一套板子)<br>线段树+离散化</p>
<p>题意:<br>给很多线段,每个一种颜色,映射到墙上,会相互覆盖,问最终墙上有多少种颜色</p>
<p>思路:<br>墙的距离很长,先对这些线段离散化,注意这题的离散化时候,相邻点如果间隔大于1的话,要再插入一个点到他们中间,否则会出错<br>具体解释可以看下<a href="http://blog.csdn.net/non_cease/article/details/7383736" target="_blank" rel="external">http://blog.csdn.net/non_cease/article/details/7383736</a><br>直接建树,然后每次查询到根节点</p>
<hr>
<p>zoj 1610 染色区域问题</p>
<p>题意:<br>在一条长度为8000的线段上染色，每次把区间<code>[a,b]</code>染成c颜色,求染完之后，每个颜色在线段上有多少个间断的区间。</p>
<p>思路:<br>用线段树维护,然后再查询</p>
<hr>
<p>poj 3264 建树+查询</p>
<p>题意:<br>计算给定区间内最大值和最小值的差</p>
<p>思路:<br>用线段树维护好区间的最大最小值就可以了</p>
<p>这道题debug了几个小时,,,一直以为自己的模板还有那里出漏洞了,结果最后是建树的时候右子树写成左子树,不过也好,今晚把整个完全二叉树都搞的特别熟练了<br>以后遇到这种就直接重写一遍!</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/08/27/线段树/" data-id="cjcn4yz8r001oouscliwkmkgw" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/染色问题/">染色问题</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/离散化/">离散化</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/线段树/">线段树</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-cfAIM-round4" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/25/cfAIM-round4/" class="article-date">
  <time datetime="2017-08-25T05:48:57.000Z" itemprop="datePublished">2017-08-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/25/cfAIM-round4/">cfAIMround4</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="cf-AIM-round4"><a href="#cf-AIM-round4" class="headerlink" title="cf AIM round4"></a><a href="http://codeforces.com/contest/844" target="_blank" rel="external">cf AIM round4</a></h1><p><a href="http://codeforces.com/contest/844/problem/A" target="_blank" rel="external">A:</a></p>
<p>简单题,直接map找26个字母出现次数</p>
<hr>
<p><a href="http://codeforces.com/contest/844/problem/B" target="_blank" rel="external">B:</a></p>
<p>题意:<br>给一个由0/1组成的<code>n*m</code>矩形,现在要问,存在多少种集合,使得满足下面两个条件:</p>
<ul>
<li>集合内元素都相同</li>
<li>该集合内的元素均在同一行或者同一列</li>
</ul>
<p>eg:<br>input:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">2 3  </div><div class="line">1 0 1  </div><div class="line">0 1 0</div></pre></td></tr></table></figure></p>
<p>output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">8</div></pre></td></tr></table></figure></p>
<p>思路:<br>直接找到每一行每一列的0/1个数,然后<code>2^cnt-1</code>就是该行cnt个相同元素所能组成的集合数(-1是去掉非空)<br>然后注意行列可能会计算重复就行了</p>
<hr>
<p><a href="http://codeforces.com/contest/844/problem/C" target="_blank" rel="external">C:</a></p>
<p>题意:<br>置换群(离散书P209)<br>给一个串,把他们分成一些集合,使得对每个集合分别排序后,整个串也是有序的,要让集合的数量最多,且每个数只能取一次</p>
<p>思路:<br>明显是置换群了<br>开两个数组,一个存原来的串,一个存排序后的串,然后在他们之间找到所有循环节并输出</p>
<p>注意:<br>存下标那里我用的是<code>pair&lt;b[i],i&gt;</code>,力豪用的离散化也过了</p>
<p>eg:<br>input:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">6</div><div class="line">3 2 1 6 5 4</div></pre></td></tr></table></figure></p>
<p>output:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">4</div><div class="line">2 1 3</div><div class="line">1 2</div><div class="line">2 4 6</div><div class="line">1 5</div></pre></td></tr></table></figure></p>
<p>顺便贴一下离散化的模板:<br>作用:缩小数据范围</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span> a[maxn];<span class="comment">//离散化后的数组a</span></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">lisan</span><span class="params">(<span class="keyword">int</span> *arr)</span><span class="comment">//传入数组arr[0..n-1],返回a[0..n-1]</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++) a[i]=arr[i];</div><div class="line"></div><div class="line">    sort(a,a+n);</div><div class="line">    <span class="keyword">int</span> size = unique(a,a+n)-a; <span class="comment">//size是离散化后元素个数</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">        a[i] = lower_bound(a,a+size,arr[i])-a+<span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>代码:<br>感觉这次的代码写的很美啊…</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">	&gt; File Name: 3.cpp</div><div class="line">	&gt; Author: mazicwong</div><div class="line">	&gt; Mail: mazicwong@gmail.com</div><div class="line">	&gt; Created Time: 2017年08月25日 星期五 01时10分06秒</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1e5</span>+<span class="number">5</span>;</div><div class="line"><span class="keyword">bool</span> vis[maxn];</div><div class="line"></div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; PII;</div><div class="line">PII a[maxn];</div><div class="line"><span class="keyword">int</span> raw[maxn];</div><div class="line"></div><div class="line">priority_queue&lt;<span class="keyword">int</span>, <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt;, greater&lt;<span class="keyword">int</span>&gt; &gt; Q[maxn];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    freopen(<span class="string">"in3"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line">    <span class="keyword">int</span> n;<span class="built_in">cin</span>&gt;&gt;n;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;raw[i]);</div><div class="line">        a[i].first=raw[i];</div><div class="line">        a[i].second=i;</div><div class="line">    &#125;</div><div class="line">    sort(a,a+n);</div><div class="line"></div><div class="line">    <span class="built_in">memset</span>(vis,<span class="number">0</span>,<span class="keyword">sizeof</span>(vis));</div><div class="line"></div><div class="line">    <span class="keyword">int</span> cnt = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (vis[i]) <span class="keyword">continue</span>;</div><div class="line">        <span class="keyword">int</span> cur = i;</div><div class="line"></div><div class="line">        <span class="keyword">do</span></div><div class="line">        &#123;</div><div class="line">            Q[cnt].push(a[cur].second);</div><div class="line">            cur = a[cur].second;</div><div class="line">            vis[cur]=<span class="number">1</span>;</div><div class="line">        &#125;<span class="keyword">while</span>(a[i].first != a[cur].first);</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (i!=cur) Q[cnt].push(a[cur].second);</div><div class="line">       </div><div class="line">        cnt++;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">cout</span> &lt;&lt; cnt &lt;&lt; <span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;cnt;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">cout</span> &lt;&lt; Q[i].size();</div><div class="line">        <span class="comment">//printf("%d",Q.size());</span></div><div class="line">        <span class="keyword">while</span>(!Q[i].empty())</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">printf</span>(<span class="string">" %d"</span>,Q[i].top()+<span class="number">1</span>);</div><div class="line">            Q[i].pop();</div><div class="line">        &#125;</div><div class="line">        <span class="built_in">puts</span>(<span class="string">""</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/08/25/cfAIM-round4/" data-id="cjcn4yz7v000qouscoci93fga" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/codeforces/">codeforces</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-强连通分量" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/23/强连通分量/" class="article-date">
  <time datetime="2017-08-23T14:13:29.000Z" itemprop="datePublished">2017-08-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/23/强连通分量/">强连通分量</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>求强连通分量可以用tarjan或者kosaraju算法</p>
<ul>
<li>其中tarjan要一次dfs</li>
<li>kosaraju用两次dfs,可以得到缩点后的DAG图和拓扑序</li>
</ul>
<p><strong>kosaraju模板(参考挑战书,自己加了出入度跟建立DAG图)</strong></p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span>+<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> V;                  <span class="comment">//顶点数</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[maxn];    <span class="comment">//图的邻接表表示</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rG[maxn];   <span class="comment">//把边反向后的图</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vs;         <span class="comment">//后续遍历顺序的顶点列表</span></div><div class="line"><span class="keyword">bool</span> used[maxn];        <span class="comment">//访问标记</span></div><div class="line"><span class="keyword">int</span> cmp[maxn];          <span class="comment">//所属强连通分量的拓扑分支</span></div><div class="line"><span class="keyword">int</span> in[maxn],out[maxn]; <span class="comment">//出入度</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; g[maxn];    <span class="comment">//缩点后的DAG图</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    G[u].push_back(v);</div><div class="line">    rG[v].push_back(u);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[G[v][i]])</div><div class="line">            dfs(G[v][i]);</div><div class="line">    &#125;</div><div class="line">    vs.push_back(v);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">rdfs</span><span class="params">(<span class="keyword">int</span> v,<span class="keyword">int</span> k)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    cmp[v] = k;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rG[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[rG[v][i]])</div><div class="line">            rdfs(rG[v][i],k);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">scc</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="comment">//一遍dfs</span></div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    vs.clear();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">0</span>;v&lt;V;v++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[v])</div><div class="line">            dfs(v);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//反向dfs</span></div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=vs.size()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[vs[i]])</div><div class="line">            rdfs(vs[i],k++);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//出入度+建DAG图</span></div><div class="line">    <span class="built_in">memset</span>(in,<span class="number">0</span>,<span class="keyword">sizeof</span>(in));</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> u=<span class="number">0</span>;u&lt;V;u++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G[u].size();i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">int</span> v = G[u][i];</div><div class="line">            <span class="keyword">if</span>(cmp[u]!=cmp[v])</div><div class="line">            &#123;</div><div class="line">                out[cmp[u]]++,in[cmp[v]]++;</div><div class="line">                g[cmp[u]].push_back(cmp[v]);<span class="comment">//建图,DAG图</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> k;<span class="comment">//强连通分量个数</span></div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> u=<span class="number">0</span>;u&lt;V;u++)</div><div class="line">    &#123;</div><div class="line">        G[u].clear();</div><div class="line">        rG[u].clear();</div><div class="line">        g[u].clear();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> m;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;V,&amp;m);</div><div class="line">    init();<span class="comment">//...</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> u,v;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;u,&amp;v);</div><div class="line">            addedge(u<span class="number">-1</span>,v<span class="number">-1</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> n = scc();<span class="comment">//强连通分量个数</span></div><div class="line">    </div><div class="line">    <span class="comment">/*</span></div><div class="line">     * scc: Strongly Connected Component 强连通分量</div><div class="line">     * cmp[0..V-1]: scc的拓扑序(cmp[u]=i: u点属于拓扑序中第i个)</div><div class="line">     * g[0..n-1]: DAG图</div><div class="line">     */</div><div class="line"></div><div class="line">    </div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<hr>
<hr>
<p>poj1236<br>强连通分量缩点求出度为0的个数和入度为0的分量个数</p>
<p>题意:<br>校园网：给定N所学校和网络，目标是分发软件其他学校都可收到，求①所需最少分发学校数；②若任选学校都能收到，最低新增边数。</p>
<p>思路:<br>同一个强连通分量内的顶点合并为一个，在这个DAG上计算出度和入度。①其实是求入度为0的顶点数，②则是求0出度和0入度顶点数的较大者，因为要将这两类顶点连起来。</p>
<p>代码:<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">	&gt; File Name: poj1236_tiao.cpp</div><div class="line">	&gt; Author: mazicwong</div><div class="line">	&gt; Mail: mazicwong@gmail.com</div><div class="line">	&gt; Created Time: 2017年08月22日 星期二 22时26分23秒</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">100</span>+<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> V;                <span class="comment">//顶点数</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[maxn];  <span class="comment">//图的邻接表表示</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rG[maxn]; <span class="comment">//把边反向后的图</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vs;       <span class="comment">//后续遍历顺序的顶点列表</span></div><div class="line"><span class="keyword">bool</span> used[maxn];      <span class="comment">//访问标记</span></div><div class="line"><span class="keyword">int</span> cmp[maxn];        <span class="comment">//所属强连通分量的拓扑分支</span></div><div class="line"><span class="keyword">int</span> in[maxn],out[maxn];<span class="comment">//出入度</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    G[u].push_back(v);</div><div class="line">    rG[v].push_back(u);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[G[v][i]])</div><div class="line">            dfs(G[v][i]);</div><div class="line">    &#125;</div><div class="line">    vs.push_back(v);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">rdfs</span><span class="params">(<span class="keyword">int</span> v,<span class="keyword">int</span> k)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    cmp[v] = k;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rG[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[rG[v][i]])</div><div class="line">            rdfs(rG[v][i],k);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">scc</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    vs.clear();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">0</span>;v&lt;V;v++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[v])</div><div class="line">            dfs(v);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=vs.size()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[vs[i]])</div><div class="line">            rdfs(vs[i],k++);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> k;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">degree_count</span><span class="params">(<span class="keyword">int</span> n)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> u=<span class="number">0</span>;u&lt;V;u++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G[u].size();i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">int</span> v = G[u][i];</div><div class="line">            <span class="keyword">if</span>(cmp[u] != cmp[v])   <span class="comment">//强连通分量算一个点</span></div><div class="line">                out[cmp[u]]++,in[cmp[v]]++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">   <span class="comment">// freopen("in","r",stdin);</span></div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;V);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> u=<span class="number">0</span>;u&lt;V;u++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> v;</div><div class="line">        <span class="keyword">while</span>(<span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;v) &amp;&amp; v)</div><div class="line">            addedge(u,--v);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> n = scc();</div><div class="line">    <span class="keyword">if</span> (n==<span class="number">1</span>)<span class="comment">//直接满足</span></div><div class="line">    &#123;</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"1\n0\n"</span>);</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    degree_count(n);<span class="comment">//计算DAG图的出入度</span></div><div class="line"></div><div class="line">    <span class="keyword">int</span> zero_in=<span class="number">0</span>,zero_out=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">    &#123;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (in[i]==<span class="number">0</span>)</div><div class="line">            zero_in++;</div><div class="line">        <span class="keyword">if</span> (out[i]==<span class="number">0</span>)</div><div class="line">            zero_out++;</div><div class="line">        <span class="comment">//cout &lt;&lt; "in: " &lt;&lt; in[i] &lt;&lt; "    out: "  &lt;&lt; out[i] &lt;&lt; endl;</span></div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,zero_in);</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d\n"</span>,max(zero_in,zero_out));</div><div class="line"></div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<p>poj3180 scc裸题</p>
<p>题意:<br>奶牛圆舞：N头牛，M条有向绳子，能组成几个歌舞团？要求顺时针逆时针都能带动舞团内所有牛。</p>
<p>思路:<br>所谓能带动，就是舞团构成一个强连通分量，就是赤裸裸的SCC。</p>
<p>代码:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">	&gt; File Name: poj3180_tiao.cpp</div><div class="line">	&gt; Author: mazicwong</div><div class="line">	&gt; Mail: mazicwong@gmail.com</div><div class="line">	&gt; Created Time: 2017年08月22日 星期二 22时26分23秒</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10000</span>+<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="keyword">int</span> V;                <span class="comment">//顶点数</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[maxn];  <span class="comment">//图的邻接表表示</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rG[maxn]; <span class="comment">//把边反向后的图</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vs;       <span class="comment">//后续遍历顺序的顶点列表</span></div><div class="line"><span class="keyword">bool</span> used[maxn];      <span class="comment">//访问标记</span></div><div class="line"><span class="keyword">int</span> cmp[maxn];        <span class="comment">//所属强连通分量的拓扑分支</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    G[u].push_back(v);</div><div class="line">    rG[v].push_back(u);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[G[v][i]])</div><div class="line">            dfs(G[v][i]);</div><div class="line">    &#125;</div><div class="line">    vs.push_back(v);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">rdfs</span><span class="params">(<span class="keyword">int</span> v,<span class="keyword">int</span> k)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    cmp[v] = k;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rG[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[rG[v][i]])</div><div class="line">            rdfs(rG[v][i],k);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">scc</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    vs.clear();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">0</span>;v&lt;V;v++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[v])</div><div class="line">            dfs(v);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=vs.size()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[vs[i]])</div><div class="line">            rdfs(vs[i],k++);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> k;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    freopen(<span class="string">"in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line">    <span class="keyword">int</span> m;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;V,&amp;m);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;m;k++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> u,v;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;u,&amp;v);</div><div class="line">        addedge(u<span class="number">-1</span>,v<span class="number">-1</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> n = scc();</div><div class="line">    <span class="comment">//计算拓扑序中每个强连通分量的点的个数</span></div><div class="line">    <span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; cnt(n,<span class="number">0</span>);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">0</span>;v&lt;V;v++)</div><div class="line">        cnt[cmp[v]]++;</div><div class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (cnt[i]&gt;<span class="number">1</span>)</div><div class="line">            ans++;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,ans);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p>poj2186 挑战书上的题</p>
<p>题意:<br>n头牛,m个关系,(A,B)表示A认为B是红人,问有多少头牛被所有牛认为是红人</p>
<p>思路:<br>缩点成DAG图,然后拓扑序最后的强联通分量就是有可能存在的解,即<code>cmp[n-1]</code>,再判断一下这个强连通分量是否从所有顶点都可达(<code>rdfs(u,0)</code>)</p>
<p>//判断是否所有顶点可达<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">rdfs(u,<span class="number">0</span>);<span class="comment">//u是最后一个强连通分量中的一个点</span></div><div class="line"><span class="keyword">for</span>(<span class="keyword">int</span> v=<span class="number">0</span>;v&lt;V;v++)</div><div class="line">&#123;</div><div class="line">    <span class="keyword">if</span> (!used[v])</div><div class="line">    &#123;</div><div class="line">        cnt=<span class="number">0</span>;<span class="keyword">break</span>;<span class="comment">//不可达</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>代码:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">	&gt; File Name: poj2186_tiao.cpp</div><div class="line">	&gt; Author: mazicwong</div><div class="line">	&gt; Mail: mazicwong@gmail.com</div><div class="line">	&gt; Created Time: 2017年08月22日 星期二 22时26分23秒</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">10000</span>+<span class="number">5</span>;</div><div class="line"></div><div class="line"><span class="comment">/*</span></div><div class="line"> * 题意:有N头牛, 给出M对关系, 如(1,2)代表1欢迎2, 关系是单向的且可以传递, 即1欢迎2不代表2欢迎1, 但是如果2也欢迎3那么1也欢迎3。</div><div class="line"> * 求被所有牛都欢迎的牛的数量。</div><div class="line"> *</div><div class="line"> * 思路:Kosaraju算法, 看缩点后拓扑序的终点有多少头牛, 且要判断是不是所有强连通分量都连向它。</div><div class="line"> * Kosaraju算法，分拆完连通分量后，也完成了拓扑序。</div><div class="line"> *</div><div class="line"> */</div><div class="line"></div><div class="line"></div><div class="line"><span class="keyword">int</span> V;                <span class="comment">//顶点数</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[maxn];  <span class="comment">//图的邻接表表示</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rG[maxn]; <span class="comment">//把边反向后的图</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vs;       <span class="comment">//后续遍历顺序的顶点列表</span></div><div class="line"><span class="keyword">bool</span> used[maxn];      <span class="comment">//访问标记</span></div><div class="line"><span class="keyword">int</span> cmp[maxn];        <span class="comment">//所属强连通分量的拓扑分支</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    G[u].push_back(v);</div><div class="line">    rG[v].push_back(u);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[G[v][i]])</div><div class="line">            dfs(G[v][i]);</div><div class="line">    &#125;</div><div class="line">    vs.push_back(v);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">rdfs</span><span class="params">(<span class="keyword">int</span> v,<span class="keyword">int</span> k)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    cmp[v] = k;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rG[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[rG[v][i]])</div><div class="line">            rdfs(rG[v][i],k);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">scc</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    vs.clear();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">0</span>;v&lt;V;v++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[v])</div><div class="line">            dfs(v);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=vs.size()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[vs[i]])</div><div class="line">            rdfs(vs[i],k++);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> k;</div><div class="line">&#125;</div><div class="line"></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    freopen(<span class="string">"in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line">    <span class="keyword">int</span> m;</div><div class="line">    <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;V,&amp;m);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> k=<span class="number">0</span>;k&lt;m;k++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> u,v;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;u,&amp;v);</div><div class="line">        addedge(u<span class="number">-1</span>,v<span class="number">-1</span>);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> n = scc();</div><div class="line"></div><div class="line">    <span class="comment">//统计解的个数</span></div><div class="line">    <span class="keyword">int</span> u=<span class="number">0</span>,cnt=<span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">0</span>;v&lt;V;v++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (cmp[v]==n<span class="number">-1</span>)<span class="comment">//找到拓扑序列最后的强连通分量的点的个数</span></div><div class="line">        &#123;</div><div class="line">            u=v;</div><div class="line">            cnt++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">//检测该强连通分量是否从所有点可达(只用检测一个)</span></div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    rdfs(u,<span class="number">0</span>);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">0</span>;v&lt;V;v++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[v])</div><div class="line">        &#123;</div><div class="line">            cnt=<span class="number">0</span>;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="built_in">printf</span>(<span class="string">"%d"</span>,cnt);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<p>hdu6165/poj2762   (强连通分量+DAG图dfs)</p>
<p>题意:<br>问一个图是否对于任意两个点,都有<code>u-&gt;v</code>或者<code>v-&gt;u</code></p>
<p>思路:<br>kosaraju进行缩点得到拓扑序<code>cmp[0..v-1]</code>,然后对缩点后的DAG图建图,计算DAG图的出入度,</p>
<ul>
<li>当DAG图入度数大于等于2或入度数为0时,明显不成立,</li>
<li>当DAG图入度为1时,有一种情况不一定成立<code>1-&gt;2,1-&gt;3,2-&gt;4,3-&gt;4</code>,即中间有分叉的情况,所以可以用dfs解决,dfs从入度为0的地方开始扫,因为是DAG图,没有环,所以直接判断扫到最深的地方,此时如果深度跟点数相同,则说明存在一个链串起整个图,满足题意</li>
</ul>
<p>注意一个点:<br>    缩点后形成的DAG图是不存在环的,否则也缩成一点了,所以最后判断是否有分叉才可以直接dfs,不用判<code>vis[]</code></p>
<p>代码:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">	&gt; File Name: poj1236_tiao.cpp</div><div class="line">	&gt; Author: mazicwong</div><div class="line">	&gt; Mail: mazicwong@gmail.com</div><div class="line">	&gt; Created Time: 2017年08月22日 星期二 22时26分23秒</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cmath&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;stack&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;set&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">1000</span>+<span class="number">5</span>;</div><div class="line"><span class="comment">/*</span></div><div class="line"> * poj2762原题</div><div class="line"> * 半连通分量</div><div class="line"> */</div><div class="line"></div><div class="line"><span class="keyword">int</span> V;                  <span class="comment">//顶点数</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; G[maxn];    <span class="comment">//图的邻接表表示</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; rG[maxn];   <span class="comment">//把边反向后的图</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; vs;         <span class="comment">//后续遍历顺序的顶点列表</span></div><div class="line"><span class="keyword">bool</span> used[maxn];        <span class="comment">//访问标记</span></div><div class="line"><span class="keyword">int</span> cmp[maxn];          <span class="comment">//所属强连通分量的拓扑分支</span></div><div class="line"><span class="keyword">int</span> in[maxn],out[maxn]; <span class="comment">//出入度</span></div><div class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; g[maxn];    <span class="comment">//缩点后的DAG图</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">addedge</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    G[u].push_back(v);</div><div class="line">    rG[v].push_back(u);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> v)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[G[v][i]])</div><div class="line">            dfs(G[v][i]);</div><div class="line">    &#125;</div><div class="line">    vs.push_back(v);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">rdfs</span><span class="params">(<span class="keyword">int</span> v,<span class="keyword">int</span> k)</span></span></div><div class="line">&#123;</div><div class="line">    used[v] = <span class="literal">true</span>;</div><div class="line">    cmp[v] = k;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;rG[v].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[rG[v][i]])</div><div class="line">            rdfs(rG[v][i],k);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">scc</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    vs.clear();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> v=<span class="number">0</span>;v&lt;V;v++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[v])</div><div class="line">            dfs(v);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">    <span class="keyword">int</span> k = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=vs.size()<span class="number">-1</span>;i&gt;=<span class="number">0</span>;i--)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">if</span> (!used[vs[i]])</div><div class="line">            rdfs(vs[i],k++);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="built_in">memset</span>(in,<span class="number">0</span>,<span class="keyword">sizeof</span>(in));</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> u=<span class="number">0</span>;u&lt;V;u++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;G[u].size();i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">int</span> v = G[u][i];</div><div class="line">            <span class="keyword">if</span>(cmp[u]!=cmp[v])</div><div class="line">            &#123;</div><div class="line">                out[cmp[u]]++,in[cmp[v]]++;</div><div class="line">                g[cmp[u]].push_back(cmp[v]);<span class="comment">//建图,DAG图</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> k;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">int</span> maxx=<span class="number">0</span>;</div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs3</span><span class="params">(<span class="keyword">int</span> u,<span class="keyword">int</span> len)</span> <span class="comment">//找最深的链</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;g[u].size();i++)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> v = g[u][i];</div><div class="line">        dfs3(v,len+<span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    maxx = max(maxx,len);</div><div class="line">    <span class="keyword">return</span>;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">void</span> <span class="title">init</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> u=<span class="number">0</span>;u&lt;V;u++)</div><div class="line">    &#123;</div><div class="line">        G[u].clear();</div><div class="line">        rG[u].clear();</div><div class="line">        g[u].clear();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    freopen(<span class="string">"in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line">    <span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</div><div class="line">    <span class="keyword">while</span>(t--)</div><div class="line">    &#123;</div><div class="line">        <span class="keyword">int</span> m;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;V,&amp;m);</div><div class="line">        init();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;m;i++)</div><div class="line">        &#123;</div><div class="line">            <span class="keyword">int</span> u,v;</div><div class="line">            <span class="built_in">scanf</span>(<span class="string">"%d%d"</span>,&amp;u,&amp;v);</div><div class="line">                addedge(u<span class="number">-1</span>,v<span class="number">-1</span>);</div><div class="line">        &#125;</div><div class="line">    </div><div class="line">        <span class="keyword">int</span> n = scc();</div><div class="line"></div><div class="line">        <span class="keyword">int</span> zero_in=<span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> uu;<span class="comment">//in=0的点</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)<span class="comment">//DAG入度</span></div><div class="line">        &#123;</div><div class="line">            <span class="keyword">if</span> (in[i]==<span class="number">0</span>)</div><div class="line">            &#123;</div><div class="line">                uu=i;</div><div class="line">                zero_in++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line"></div><div class="line">        <span class="keyword">if</span> (zero_in&gt;=<span class="number">2</span> || zero_in==<span class="number">0</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">puts</span>(<span class="string">"Light my fire!"</span>);</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (zero_in==<span class="number">1</span>)</div><div class="line">        &#123;</div><div class="line">            <span class="built_in">memset</span>(used,<span class="number">0</span>,<span class="keyword">sizeof</span>(used));</div><div class="line">            maxx=<span class="number">1</span>;</div><div class="line">            dfs3(uu,<span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span>(maxx==n)</div><div class="line">            <span class="built_in">puts</span>(<span class="string">"I love you my love and our love save us!"</span>);</div><div class="line">        <span class="keyword">else</span> </div><div class="line">            <span class="built_in">puts</span>(<span class="string">"Light my fire!"</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/08/23/强连通分量/" data-id="cjcn4yz8y001yousc7712h35z" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  
    <article id="post-cf429" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/19/cf429/" class="article-date">
  <time datetime="2017-08-18T17:44:57.000Z" itemprop="datePublished">2017-08-19</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/19/cf429/">cf429</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>第一次队伍一起打codeforces,明天有CCPC的网络赛,先一起练练<br>感觉还不错,然而这场手速场..只写了3题..稳掉分..</p>
<p>第一题,直接求和的水题</p>
<hr>
<p>第二题,给一个序列,第一个人取出一个和为奇数的子段,剩下的拼起来,第二个人取出一个和为偶数的子段;循环直到不能取的人输,问谁赢<br>一眼题,直接博弈,然后发现,其实只有三种情况</p>
<ul>
<li>总和为奇数,第一个人全部取完</li>
<li>总和为偶数,且里面不含有奇数的数字,则第一个人一次都取不了,直接输</li>
<li>总和为偶数,里面含有奇数,则第一个人取出最大的一份奇数后,第二个人取偶数份,第一个人取完剩下部分,也赢了,</li>
</ul>
<p>代码不贴了,就是上面三种情况而已</p>
<hr>
<p>第三题,一开始还在讨论,纠结说<code>F(n,k)</code>是什么来的,后来发现并没有什么用..一个求期望最优的题…书豪直接看了样例把答案猜出来了..然后直接上手敲代码..<br>编程水平还是太弱了,QAQ,</p>
<p>题意:给数组<code>a[1..m]</code>,<code>b[1..m]</code>,要求对<code>a[1..m]</code>做一个排列得到<code>ans[1..m]</code>,使得<code>sum{F(ans[i],b[i])}</code>最大，其中<code>F(n,k)</code>指的是:从n个数中取k个数的所有集合中,每个集合最小值的期望值</p>
<p>&gt;<br>例如:<br>    For example, let’s find F(4, 2). All possible 2-element subsets of {1,2,3,4} are: {1, 2}, {1, 3}, {1, 4}, {2, 3}, {2, 4}, {3, 4}. Their minimal values are 1, 1, 1, 2, 2, 3. So the average (expected) value is F(4,2)=(1+1+1+2+2+3)/6=10/6=1.66666666</p>
<p>然而答案是,对应<code>b[i]</code>中最小的数是<code>a[i]</code>中的最大数,然后依次匹配;即<code>b[i]</code>从最小到最大,匹配<code>a[i]</code>从最大到最小,</p>
<p>一开始两个sort后直接从<code>b[]</code>里找,写了个接近O(n^2)的算法,结果TLE第七个了,</p>
<p>然后用<code>typedef pair&lt;int,int&gt; pii</code>过掉了,这种做法平时写的比较少,要多用</p>
<p>贴下代码<br><figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*************************************************************************</span></div><div class="line">	&gt; File Name: c.cpp</div><div class="line">	&gt; Author: mazicwong</div><div class="line">	&gt; Mail: mazicwong@gmail.com</div><div class="line">	&gt; Created Time: 2017年08月18日 星期五 23时41分44秒</div><div class="line"> ************************************************************************/</div><div class="line"></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdio&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;map&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;queue&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;cstring&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;string&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;vector&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">&lt;algorithm&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="keyword">const</span> <span class="keyword">int</span> maxn = <span class="number">2e5</span>+<span class="number">5</span>;</div><div class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a,<span class="keyword">int</span> b)</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">return</span> a&gt;b;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> ans[maxn];</div><div class="line"><span class="keyword">int</span> a[maxn];</div><div class="line"><span class="keyword">typedef</span> pair&lt;<span class="keyword">int</span>,<span class="keyword">int</span>&gt; pii;</div><div class="line">pii b[maxn];</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    freopen(<span class="string">"in"</span>,<span class="string">"r"</span>,<span class="built_in">stdin</span>);</div><div class="line">    <span class="keyword">int</span> n;</div><div class="line">    <span class="built_in">cin</span> &gt;&gt; n;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;a[i]);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">    &#123;</div><div class="line">        <span class="built_in">scanf</span>(<span class="string">"%d"</span>,&amp;b[i].first);</div><div class="line">        b[i].second=i;</div><div class="line">    &#125;</div><div class="line">    sort(a,a+n,cmp);</div><div class="line">    sort(b,b+n);</div><div class="line"></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">    &#123;</div><div class="line">        ans[b[i].second] = a[i];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)</div><div class="line">        <span class="built_in">printf</span>(<span class="string">"%d "</span>,ans[i]);</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<hr>
<p>第四题,听dalao们说联想到高斯消元??不知道脑回路如何形成的,自己最近在练高斯消元跟异或方程组,发现其实难点还是在于转换到那个方程那里,有时候很难想到要转换成方程组来解决</p>
<p>具体题意就是说,给一个连通图,每个点权值<code>d[i] = {0,-1,1}</code>,要取出一些边,使得所有点满足下面其中一种情况:</p>
<ul>
<li><code>d[i] == -1</code></li>
<li><code>degree[i]%2 == d[i]</code></li>
</ul>
<p>个人感觉从删边思路想,<code>d[i]==-1</code>的边可以拿来利用,不过书豪的想法是按添边来的;</p>
<p>top1答案是树上dfs,具体明天起来再补题,有点困了,</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/08/19/cf429/" data-id="cjcn4yz7j000couscilks8gmi" class="article-share-link">Partager</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/codeforces/">codeforces</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-对拍程序" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2017/08/17/对拍程序/" class="article-date">
  <time datetime="2017-08-16T17:13:16.000Z" itemprop="datePublished">2017-08-17</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2017/08/17/对拍程序/">对拍程序</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://www.cnblogs.com/qscqesze/p/4442527.html" target="_blank" rel="external">windows下参考</a></p>
<p>linux下:</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#bash</span></div><div class="line"><span class="keyword">while</span> <span class="literal">true</span>; <span class="keyword">do</span>  </div><div class="line">    ./data_maker&gt;tmp.in <span class="comment">#出数据  </span></div><div class="line">    ./MyProg&lt;tmp.in&gt;tmp.out <span class="comment">#被测程序  </span></div><div class="line">    ./StdProg&lt;tmp.in&gt;tmp2.out <span class="comment">#正确（暴力）程序  </span></div><div class="line">    <span class="keyword">if</span> diff tmp.out tmp2.out; <span class="keyword">then</span> <span class="comment">#比较两个输出文件  </span></div><div class="line">        <span class="built_in">printf</span> <span class="string">"AC\n"</span>  <span class="comment">#结果相同显示AC  </span></div><div class="line">  </div><div class="line">    <span class="keyword">elif</span> diff -B -b tmp.out tmp2.out; <span class="keyword">then</span>  </div><div class="line">        <span class="built_in">printf</span> <span class="string">"PE\n"</span>  </div><div class="line">  </div><div class="line">    <span class="keyword">else</span>  </div><div class="line">        <span class="built_in">printf</span> <span class="string">"WA\n"</span> <span class="comment">#结果不同显示WA，并退出  </span></div><div class="line">        <span class="built_in">exit</span> 0  </div><div class="line">    <span class="keyword">fi</span>  </div><div class="line"><span class="keyword">done</span></div></pre></td></tr></table></figure>
<p>举例:</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//代码1</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> a,b;</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;a+b&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//代码2</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    <span class="keyword">int</span> a,b;</div><div class="line">    <span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</div><div class="line">    <span class="keyword">while</span>(b--) a++;</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="comment">//data_maker</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;ctime&gt;</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdlib&gt;</span></span></div><div class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</div><div class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span></div><div class="line">&#123;</div><div class="line">    srand(time(<span class="number">0</span>));</div><div class="line">    <span class="keyword">int</span> a,b;</div><div class="line">    a=rand();</div><div class="line">    b=rand();</div><div class="line">    <span class="built_in">cout</span>&lt;&lt;a&lt;&lt;<span class="string">' '</span>&lt;&lt;b&lt;&lt;<span class="built_in">endl</span>;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="mazicwong.github.io/2017/08/17/对拍程序/" data-id="cjcn4yz8u001touscyxt6nda0" class="article-share-link">Partager</a>
      
      
    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    <a class="extend prev" rel="prev" href="/">&laquo; __('prev')</a><a class="page-number" href="/">1</a><span class="page-number current">2</span><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="page-number" href="/page/5/">5</a><a class="extend next" rel="next" href="/page/3/">__('next') &raquo;</a>
  </nav>
</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Mot-clés</h3>
    <div class="widget">
      <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/ACM技巧/">ACM技巧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/C/">C++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/FFT/">FFT</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/G/">G++</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LCA/">LCA</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/RMQ/">RMQ</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/big-data/">big data</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/cbrt/">cbrt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/codeforces/">codeforces</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dfs/">dfs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/dp/">dp</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/greedy/">greedy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/homework/">homework</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kruskal/">kruskal</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/kuangbin/">kuangbin</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/plan/">plan</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ruby/">ruby</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/search/">search</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/segment-tree/">segment_tree</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/shortestPath/">shortestPath</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sqlserver/">sqlserver</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/区间/">区间</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/后缀数组/">后缀数组</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/字符串/">字符串</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/尺取法/">尺取法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/常用技巧/">常用技巧</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/搜索/">搜索</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/数据库/">数据库</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/染色问题/">染色问题</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树/">树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/树形DP/">树形DP</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/模板/">模板</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/爬虫/">爬虫</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/百度之星/">百度之星</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/离散化/">离散化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/线段树/">线段树</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网易新闻/">网易新闻</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/邻接表/">邻接表</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随机数/">随机数</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Nuage de mot-clés</h3>
    <div class="widget tagcloud">
      <a href="/tags/ACM技巧/" style="font-size: 10px;">ACM技巧</a> <a href="/tags/C/" style="font-size: 10px;">C++</a> <a href="/tags/FFT/" style="font-size: 10px;">FFT</a> <a href="/tags/G/" style="font-size: 10px;">G++</a> <a href="/tags/LCA/" style="font-size: 10px;">LCA</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/RMQ/" style="font-size: 10px;">RMQ</a> <a href="/tags/big-data/" style="font-size: 10px;">big data</a> <a href="/tags/cbrt/" style="font-size: 10px;">cbrt</a> <a href="/tags/codeforces/" style="font-size: 20px;">codeforces</a> <a href="/tags/dfs/" style="font-size: 10px;">dfs</a> <a href="/tags/dp/" style="font-size: 15px;">dp</a> <a href="/tags/greedy/" style="font-size: 10px;">greedy</a> <a href="/tags/homework/" style="font-size: 10px;">homework</a> <a href="/tags/kruskal/" style="font-size: 10px;">kruskal</a> <a href="/tags/kuangbin/" style="font-size: 15px;">kuangbin</a> <a href="/tags/plan/" style="font-size: 10px;">plan</a> <a href="/tags/ruby/" style="font-size: 10px;">ruby</a> <a href="/tags/search/" style="font-size: 10px;">search</a> <a href="/tags/segment-tree/" style="font-size: 10px;">segment_tree</a> <a href="/tags/shortestPath/" style="font-size: 10px;">shortestPath</a> <a href="/tags/sqlserver/" style="font-size: 10px;">sqlserver</a> <a href="/tags/区间/" style="font-size: 10px;">区间</a> <a href="/tags/后缀数组/" style="font-size: 10px;">后缀数组</a> <a href="/tags/字符串/" style="font-size: 10px;">字符串</a> <a href="/tags/尺取法/" style="font-size: 10px;">尺取法</a> <a href="/tags/常用技巧/" style="font-size: 10px;">常用技巧</a> <a href="/tags/搜索/" style="font-size: 10px;">搜索</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a> <a href="/tags/染色问题/" style="font-size: 10px;">染色问题</a> <a href="/tags/树/" style="font-size: 10px;">树</a> <a href="/tags/树形DP/" style="font-size: 10px;">树形DP</a> <a href="/tags/模板/" style="font-size: 10px;">模板</a> <a href="/tags/爬虫/" style="font-size: 10px;">爬虫</a> <a href="/tags/百度之星/" style="font-size: 10px;">百度之星</a> <a href="/tags/离散化/" style="font-size: 10px;">离散化</a> <a href="/tags/线段树/" style="font-size: 10px;">线段树</a> <a href="/tags/网易新闻/" style="font-size: 10px;">网易新闻</a> <a href="/tags/邻接表/" style="font-size: 10px;">邻接表</a> <a href="/tags/随机数/" style="font-size: 10px;">随机数</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archives</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">一月 2018</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">十一月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/10/">十月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/09/">九月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/08/">八月 2017</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/07/">七月 2017</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Articles récents</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2018/01/19/netease爬虫/">netease爬虫</a>
          </li>
        
          <li>
            <a href="/2018/01/17/sina/">sina</a>
          </li>
        
          <li>
            <a href="/2018/01/17/大三上学期期末考/">大三上学期期末考</a>
          </li>
        
          <li>
            <a href="/2017/11/23/paper/">paper</a>
          </li>
        
          <li>
            <a href="/2017/11/18/tryJdbc/">tryJdbc</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2018 MazicWong<br>
      Propulsé by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    

<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>

  </div>
</body>
</html>